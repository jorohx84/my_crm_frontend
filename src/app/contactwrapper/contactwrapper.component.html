<section>
    <h2>Kontakt erstellen</h2>

    <form #contactCreationFrom="ngForm" (ngSubmit)="createContact(contactCreationFrom)">
        <div class="inputCont">
            <div class="inputfield">
                <input #name="ngModel" type="text" [(ngModel)]="contact.name" name="name" placeholder="Name" required>
            </div>
            <div class="errorTxt">
                <p *ngIf="name.invalid && name.touched">*Pflichtfeld</p>
            </div>
        </div>
        <div class="inputCont">
            <div class="inputfield">
                <input #function="ngModel" type="text" [(ngModel)]="contact.function" name="function"
                    placeholder="Funktion ( z.B. Softwareentwickler, Controller ... ) " required>
            </div>
            <div class="errorTxt">
                <p *ngIf="function.invalid && function.touched">*Pflichtfeld</p>
            </div>
        </div>
        <div class="inputCont">
            <div class="inputfield">
                <input #position="ngModel" type="text" [(ngModel)]="contact.position" name="position"
                    placeholder="Position ( z.B. Geschäftsführer, Teamleiter ...)" required>
            </div>
            <div class="errorTxt">
                <p *ngIf="position.invalid && position.touched">*Pflichtfeld</p>
            </div>
        </div>
        <div class="inputCont">
            <div class="inputfield">
                <input #department="ngModel" type="text" [(ngModel)]="contact.department" name="department"
                    placeholder="Abteilung ( z.B. Vertrieb, Backoffice, IT ... )" required>
            </div>
            <div class="errorTxt">
                <p *ngIf="department.invalid && department.touched">*Pflichtfeld</p>
            </div>
        </div>
        <div class="inputCont">
            <div class="inputfield" [ngClass]="{'errorBorder': email.invalid && email.touched}">
                <input #email="ngModel" type="email" id="email" name="email" placeholder="E-Mail"
                    [(ngModel)]="contact.email" required pattern="^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$">
            </div>
            <div class="errorTxt">
                <p *ngIf="email.invalid && email.touched">Bitte gültige E-Mail eingeben</p>
            </div>
        </div>

        <!-- phone -->
        <div class="inputCont">
            <div class="inputfield" [ngClass]="{'errorBorder': phone.invalid && phone.touched}">
                <input #phone="ngModel" type="tel" id="phone" name="phone" placeholder="Telefonnummer"
                    [(ngModel)]="contact.phone" required pattern="^\+\d{1,3} \d{1,4} \d{4,10}$">
            </div>
            <div class="errorTxt">
                <p *ngIf="phone.invalid && phone.touched && phone.errors?.['required']">Bitte Telefonnummer eingeben</p>
                <p *ngIf="phone.invalid && phone.touched && phone.errors?.['pattern']">Telefonnummer muss im Format'+49
                    30 12345678' sein</p>
            </div>
        </div>



        <div class="btnCont">

            <button (click)="resetFrom(contactCreationFrom)" type="button">Abbrechen</button>
            <button type="submit">Speichern</button>
        </div>
    </form>
</section>